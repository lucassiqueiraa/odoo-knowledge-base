<odoo>
    <record id="view_maintenance_request_form_inherit_checklist" model="ir.ui.view">
        <field name="name">maintenance.request.form.inherit.checklist</field>
        <field name="model">maintenance.request</field>
        <field name="inherit_id" ref="maintenance.hr_equipment_request_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//sheet" position="inside">
                <notebook>
                    <!-- Aba do checklist -->
                    <page string="Checklist de Execução">
                        <field name="checklist_execution_ids">
                            <tree editable="bottom">
                                <field name="item_description"/>
                                <field name="is_done"/>
                            </tree>
                        </field>
                    </page>

                    <!-- Aba dos Materiais -->
                    <page string="Materiais Utilizados">
                        <group>
                            <field name="material_line_ids">
                                <tree editable="bottom">
                                    <field name="product_id"/>
                                    <field name="quantity"/>
                                </tree>
                            </field>
                            <field name="consumo_realizado" invisible="1"/>
                            <button name="action_lancar_consumo"
                                string="Lançar Consumo"
                                type="object"
                                class="btn-primary"
                                attrs="{'invisible': [('consumo_realizado', '=', True)]}"/>
                        </group>
                    </page>
                </notebook>
            </xpath>
        </field>
    </record>
</odoo>